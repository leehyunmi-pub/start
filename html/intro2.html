<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OWN:R</title>
    <link rel="stylesheet" href="../css/swiper-bundle.min.css">
    <link rel="stylesheet" href="../css/test2.css">
    <script src="../js/swiper-bundle.min.js"></script>
    <script src="../js/gsap.min.js"></script>
    <script src="../js/TextPlugin.min.js"></script>
    <script src="../js/lenis.min.js"></script>
    <script src="../js/common.js"></script>
</head>
<body class="bg_black">
    <div id="dh_cursor">
        <div class="dh_cursor_circle">
            <span class="cursor_text"></span>
        </div>
    </div>
    <div class="wrap main_page">
        <header id="header" class="header">
            <div class="inner">
                <h1 class="logo">
                    <a href="">OWN:R</a>
                </h1>
                <nav id="nav" class="nav">
                    <ul class="navbar">
                        <li><a href="">커뮤니티</a></li>
                        <li><a href="">미디어</a></li>
                    </ul>
                </nav>
            </div>
        </header>
        <main id="container" class="container">
            <section class="main_visual">
                <div class="inner">
                    <div class="center_cont">
                        <button type="button" class="ico" onclick="onOpenLayerPopup('layer_test')"></button>
                        <p id="myText" class="tit_center"></p>
                    </div>
                    <a href="#" class="main02" onclick="mainRightShow2();"><div class="tit">미래로 가는<span>Journey</span></div> <i class="arrow"></i></a>
                    <a href="#" class="main01" onclick="mainLeftShow2();"><div class="tit">새롭게 시작하는<span>Story</span></div> <i class="arrow"></i></a>
                    <div class="scroll_down">
                        <span class="scroll_txt">Scroll Down</span>
                        <span class="scroll_bar"></span>
                    </div>
                </div>
            </section>
            <section class="ownr_intro">
                <div class="inner">
                    <div class="tit_wrap">
                        <h2 class="tit_depth2">OWN:R 소개</h2>
                        <p class="desc">광동제약의 혁신 프로젝트 실험공간, OWN:R를 소개합니다.</p>
                    </div>
                    <div class="con_wrap">
                        <ul>
                            <li class="bg1">
                                <a href="">
                                    <div class="txt_motion">
                                        <strong>OWN:R 스토리</strong>
                                        <p>광동제약이 걸어온 길에는 언제나 도전과 실천, 혁신이 늘 함께 해왔습니다.</p>
                                    </div>
                                    <i></i>
                                </a>
                            </li>
                            <li class="bg2">
                                <a href="">
                                    <div class="txt_motion">
                                        <strong>OWN:R 사상</strong>
                                        <p>사용자(고객=소비자) 중심에서 함께 참여하고 소유하고 보상받는 미래를 꿈꿉니다.</p>
                                    </div>
                                    <i></i>
                                </a>
                            </li>
                            <li class="bg3">
                                <a href="">
                                    <div class="txt_motion">
                                        <strong>OWN:R BI</strong>
                                        <p>고객이 중심이자 사업 비전이 되는 혁신을 지향합니다.</p>
                                    </div>
                                    <i></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
            <section class="ownr_key_visual">
                <div style="display:flex;align-items:center;justify-content:center;height:300px;background: #1A1834;font-size:40px;color:#fff;font-weight:700">Key Visual</div>
            </section>
            <section class="ownr_card_news">
                <div class="inner">
                    <div class="tit_wrap">
                        <h2 class="tit_depth2">OWN:R Lab 카드뉴스</h2>
                        <p class="desc">소비혁신을 위한 OWN:R Lab 여정을 전합니다.</p>
                        <div class="btn_wrap">
                            <div class="swiper_btn_wrap">
                                <div class="swiper-button-prev"></div>
                                <div class="swiper-button-next"></div>
                            </div>
                            <a href="" class="btn_view_all">View all</a>
                        </div>
                    </div>
                    <div class="con_wrap">
                        <div class="swiper">
                            
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">
                                    <img src="../images/common/temp_card_news.gif" alt="">
                                </div>
                                <div class="swiper-slide">
                                    <img src="../images/common/temp_card_news.gif" alt="">
                                </div>
                                <div class="swiper-slide">
                                    <img src="../images/common/temp_card_news.gif" alt="">
                                </div>
                                <div class="swiper-slide">
                                    <img src="../images/common/temp_card_news.gif" alt="">
                                </div>
                                <div class="swiper-slide">
                                    <img src="../images/common/temp_card_news.gif" alt="">
                                </div>
                                <div class="swiper-slide">
                                    <img src="../images/common/temp_card_news.gif" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <section class="ownr_banner">
                <div class="inner">
                    <div class="img_box">
                        <a href="#"><img src="../images/common/banner1.png" alt="소비자가 함께 진짜 OWN:R가 되는 기회, OWN:R SHOP에서 미리 만나보세요!"></a>
                        <a href="#"><img src="../images/common/banner2.png" alt="소비를 넘어 가치를 소유하는 진짜 주인이 되는 공간, 투자계약증권(STO) 발행 플랫폼 OWN:R SHIP"></a>
                    </div>
                </div>
            </section>
            <section class="ownr_news">
                <div class="inner">
                    <div class="tit_wrap">
                        <h2 class="tit_depth2">OWN:R 뉴스</h2>
                        <p class="desc">OWN:R의 새로운 소식을 알려드립니다.</p>
                        <div class="btn_wrap">
                            <a href="" class="btn_view_all">View all</a>
                        </div>
                    </div>
                    <div class="con_wrap">
                        <ul>
                            <li>
                                <a href="">
                                    <div style="color:#fff">contents1</div>
                                </a>
                            </li>
                            <li>
                                <a href="">
                                    <div style="color:#fff">contents2</div>
                                </a>
                            </li>
                            <li>
                                <a href="">
                                    <div style="color:#fff">contents3</div>
                                </a>
                            </li>
                            <li>
                                <a href="">
                                    <div style="color:#fff">contents4</div>
                                </a>
                            </li>
                            <li>
                                <a href="">
                                    <div style="color:#fff">contents5</div>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
            <!-- <div class="fixed_link">
                <a href="">스페셜관</a>
            </div> -->
        </main>
        <footer id="footer" class="footer">
            <div class="inner">
                <div class="f_top">
                    <a href="" class="logo">OWN:R</a>
                    <ul>
                        <li><a href="" target="_blank">광동제약</a></li>
                        <li><a href="" target="_blank">광동상회</a></li>
                        <li><a href="" target="_blank">OWN:R SHIP</a></li>
                    </ul>
                </div>
                <div class="f_bottom">
                    <a href="" class="terms">사이트이용약관</a>
                    <p class="copyright">COPYRIGHT(C) KWANG DONG PHARMACEUTICAL CO., LTD. ALL RIGHTS RESERVED</p>
                </div>
            </div>
        </footer>


        <!-- layer popup -->
        <div id="layer_test" class="layer_popup" data-lenis-prevent>
            <div class="layer_wrap">
                <button class="btn_layer_close" onclick="onCloseLayerPpopup('layer_test')">close</button>
                <div class="pop_con" style="color:#fff">
                    dkfjlkdfjkldsf
                </div>
            </div>
            <div class="dim"></div>
        </div>
        <!-- //layer popup -->

        <!-- layer popup -->
        <div id="layer_banner" class="layer_popup alert_popup" data-lenis-prevent>
            <div class="layer_wrap">
                <div class="pop_con">
                    <a href="#"><img src="../images/common/img_banner.png" alt=""></a>
                </div>
                <div class="btn_pop_wrap">
                    <button type="button" class="today_close">다시 보지 않기</button>
                    <button type="button" class="btn_close" onclick="onCloseLayerPpopup('layer_banner')">닫기</button>
                </div>
            </div>
        </div>
        <!-- //layer popup -->

        <!-- layer popup -->
        <div id="layer_banner2" class="layer_popup bottom_popup" data-lenis-prevent>
            <div class="layer_wrap">
                <div class="pop_con">
                    <a href="#"><img src="../images/common/img_banner.png" alt=""></a>
                </div>
                <div class="btn_pop_wrap">
                    <button type="button" class="today_close">다시 보지 않기</button>
                    <button type="button" class="btn_close" onclick="onCloseLayerPpopup('layer_banner2')">닫기</button>
                </div>
            </div>
        </div>
        <!-- //layer popup -->

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        // s - scroll smooth
        let lenis = new Lenis({
            duration: 2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);

        function resetLenis() { // 스크롤이슈로 인한 추가
            if (lenis) {
                lenis.destroy();
            }
            lenis = new Lenis({
                duration: 2,
                easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            });
            requestAnimationFrame(raf);
        }
        lenis.stop();

        function lenisStart() {
            lenis.start();
        }
        gsap.delayedCall(1.8, () => {
            resetLenis();
            lenisStart();
        })
        // e- scroll smooth

        // intro motion
        window.addEventListener('beforeunload', function() {
            window.scrollTo(0, 0)
        });

        window.addEventListener('DOMContentLoaded', function(){
            const mainVisual = document.querySelector('body');
            const container = document.querySelector('.container');
            setTimeout(function() {
                mainVisual.classList.add('loaded');
            }, 100);
        });

        // intro motion2 
        setTimeout(function() {
            const centerIco = document.querySelector('.center_cont .ico');
            centerIco.style.transition = 'none';

            document.addEventListener('mousemove', function(event) {
                var xPos = (event.clientX / window.innerWidth) - 0.5;
                var yPos = (event.clientY / window.innerHeight) - 0.5;

                TweenLite.to(centerIco, 1, {
                    rotationY: xPos * -100,
                    rotationX: yPos * 100,
                    ease: Power1.easeOut,
                    transformPerspective: 800,
                    transformOrigin: 'center'
                });
            });
        }, 5000);

        // mouse motion
        const cursor2 = document.querySelector("#dh_cursor");
        window.addEventListener("mousemove", e => {
            gsap.to(cursor2, {duration: 1, left: e.pageX, top: e.pageY});
        });
        document.querySelectorAll(".container a, .container button").forEach(link => {
            link.addEventListener("mouseenter", () => {
                cursor2.classList.add("image");
            });
            link.addEventListener("mouseleave", () => {
                cursor2.classList.remove("image");
            });
        });

        // main motion
        const mainVisual = document.querySelector('.main_visual');
        const mainButton = document.querySelector('.main_visual .main01');
        const mainLeft = document.querySelector('.main_left');
        const mainRight = document.querySelector('.main_right');
        const body = document.querySelector('body');
        const header = document.querySelector('header');
        const container = document.querySelector('.container');

        const mainLeftShow = () => {
            mainVisual.style.display = 'none';
            container.classList.remove('layer_activated');
            mainRight.classList.remove('active');
            mainLeft.classList.add('active');
            body.classList.add('bg_black');
        };
        const mainRightShow = () => {
            mainVisual.style.display = 'none';
            container.classList.remove('layer_activated');
            mainLeft.classList.remove('active');
            mainRight.classList.add('active');
            body.classList.remove('bg_black');
        };

        // const mainLeftShow2 = () => {
        //     window.location.href = 'main2.html#test1';
        // };
        // const mainRightShow2 = () => {
        //     window.location.href = 'main2.html#test2';
        // };

        // 소개
        const items = document.querySelectorAll('.ownr_intro .con_wrap ul li a');

        items.forEach(item => {
            item.addEventListener('mouseenter', function() {
                if (window.innerWidth > 1024) { 
                    this.classList.add('bg_on');
                }
            });
            item.addEventListener('mouseleave', function() {
                if (window.innerWidth > 1024) { 
                    this.classList.remove('bg_on');
                }
            });
        });

        function handleResize() {
            const isMobile = window.innerWidth <= 1024;
            items.forEach(item => {
                if (isMobile) {
                    item.classList.add('bg_on');
                } else {
                    item.classList.remove('bg_on');
                }
            });
        }

        window.addEventListener('resize', handleResize);
        handleResize();

        // 카드뉴스
        const swiper = new Swiper('.swiper', {
            slidesPerView : "auto",
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            breakpoints: {
                800: {
                    slidesPerView : 3.2,
                },
                1600: {
                    slidesPerView : 4.2,
                }
            }
        });

        function swiperResize() {
            const isMobile = window.innerWidth <= 800;
            const cardNews = document.querySelector('.ownr_card_news');
            if (isMobile) {
                cardNews.classList.add('is_mobile');
            }else {
                cardNews.classList.remove('is_mobile');
            }
        }
        window.addEventListener('resize', swiperResize)
        swiperResize();


        // 타이핑 효과 테스트
        gsap.registerPlugin(TextPlugin);

        const result = '소비 혁신 실험실 <br>OWN:R Lab <span class="cursor">|</span>';
        gsap.to("#myText", {
            duration: 1.8,
            text: result,
            ease: "none",
            delay: 4,
        });

    </script>
</body>
</html>